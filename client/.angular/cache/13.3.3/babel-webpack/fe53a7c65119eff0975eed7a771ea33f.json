{"ast":null,"code":"import { Store, select } from '@ngrx/store';\nimport { selectConfirmed } from '../../../core/core.module';\nimport { TokenService } from '../../../shared/services/token.service';\nimport { AuthService } from '../../../core/auth/auth.service';\nimport { NotificationService } from '../../../core/core.module';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"../../../shared/services/token.service\";\nimport * as i3 from \"../../../core/auth/auth.service\";\nimport * as i4 from \"../../../core/core.module\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"@angular/material/progress-bar\";\nimport * as i8 from \"@ngx-translate/core\";\n\nfunction HomeComponent_mat_card_1_mat_progress_bar_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-bar\", 8);\n  }\n}\n\nfunction HomeComponent_mat_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-card\", 5)(1, \"mat-card-content\")(2, \"b\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementStart(7, \"a\", 6);\n    i0.ɵɵlistener(\"click\", function HomeComponent_mat_card_1_Template_a_click_7_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.resendEmail();\n    });\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"mat-card-footer\");\n    i0.ɵɵtemplate(13, HomeComponent_mat_card_1_mat_progress_bar_13_Template, 1, 0, \"mat-progress-bar\", 7);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 5, \"protego.confirm-email.message1\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\": \", i0.ɵɵpipeBind1(6, 7, \"protego.confirm-email.message2\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 9, \"protego.confirm-email.message3\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 11, \"protego.confirm-email.message4\"), \". \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.loading);\n  }\n}\n\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(store, tokenService, authService, notificationService) {\n      this.store = store;\n      this.tokenService = tokenService;\n      this.authService = authService;\n      this.notificationService = notificationService;\n      this.loading = false;\n    }\n\n    ngOnInit() {\n      this.isConfirmed$ = this.store.pipe(select(selectConfirmed));\n      this.username = this.tokenService.username;\n    }\n\n    resendEmail() {\n      this.loading = true;\n      this.authService.resendEmail(this.username).subscribe({\n        next: () => {\n          this.notificationService.success('Confirmation Email Sent!'), this.loading = false;\n        },\n        error: e => {\n          console.log(e), this.loading = false;\n        }\n      });\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.TokenService), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.NotificationService));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"home\"]],\n    decls: 19,\n    vars: 15,\n    consts: [[1, \"protego-page-container\"], [\"style\", \"margin-top: 0.5em;\", 4, \"ngIf\"], [1, \"protego-section\", \"protego-section-top\"], [2, \"text-align\", \"center\"], [2, \"padding-top\", \"2em\"], [2, \"margin-top\", \"0.5em\"], [1, \"protego-link\", 3, \"click\"], [\"mode\", \"query\", 4, \"ngIf\"], [\"mode\", \"query\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, HomeComponent_mat_card_1_Template, 14, 13, \"mat-card\", 1);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵelementStart(3, \"mat-card\", 2)(4, \"mat-card-content\")(5, \"h4\", 3)(6, \"strong\");\n        i0.ɵɵtext(7);\n        i0.ɵɵpipe(8, \"translate\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"h5\", 3)(10, \"em\");\n        i0.ɵɵtext(11);\n        i0.ɵɵpipe(12, \"translate\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"h5\", 4);\n        i0.ɵɵtext(14);\n        i0.ɵɵpipe(15, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"p\");\n        i0.ɵɵtext(17);\n        i0.ɵɵpipe(18, \"translate\");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(2, 5, ctx.isConfirmed$) && ctx.username);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 7, \"protego.home.header\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 9, \"protego.home.subheader\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(15, 11, \"protego.home.p-header\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(18, 13, \"protego.home.p\"));\n      }\n    },\n    directives: [i5.NgIf, i6.MatCard, i6.MatCardContent, i6.MatCardFooter, i7.MatProgressBar],\n    pipes: [i5.AsyncPipe, i8.TranslatePipe],\n    styles: [\".protego-page-container[_ngcontent-%COMP%]{margin:auto}.protego-section-top[_ngcontent-%COMP%]{margin-top:10px}.protego-section[_ngcontent-%COMP%]{margin-bottom:10px}.protego-table-title[_ngcontent-%COMP%]{margin-top:1em;margin-left:1em}.protego-table[_ngcontent-%COMP%]{width:100%;padding:5px;border-radius:5px;overflow:hidden}.protego-arxiv-disclaimer[_ngcontent-%COMP%]{float:right;font-size:8pt;margin:10px}.protego-float-right[_ngcontent-%COMP%]{float:right}.protego-clear-float[_ngcontent-%COMP%]{clear:both}.protego-card-header-image[_ngcontent-%COMP%]{background-size:cover}.protego-avatar[_ngcontent-%COMP%]{height:40px;width:40px}.protego-legend[_ngcontent-%COMP%]{margin-top:1em}.draw-canvas[_ngcontent-%COMP%]{width:80%;margin:auto;text-align:center}.protego-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:5px}@media (min-width: 0){.protego-page-container[_ngcontent-%COMP%]{width:90%}}@media (min-width: 600px){.protego-page-container[_ngcontent-%COMP%]{width:80%}}@media (min-width: 900px){.protego-page-container[_ngcontent-%COMP%]{width:70%}}@media (min-width: 1200px){.protego-page-container[_ngcontent-%COMP%]{width:60%}}@media (min-width: 1500px){.protego-page-container[_ngcontent-%COMP%]{width:50%}}.protego-link[_ngcontent-%COMP%]{cursor:pointer;color:gray}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}